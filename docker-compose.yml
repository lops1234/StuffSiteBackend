services:
  apiHost:
    image: apihost
    build:
      context: .
      dockerfile: ApiHost/Dockerfile
      args:
        ENVIRONMENT_CONFIGURATION: ${ENVIRONMENT_CONFIGURATION}
        BUILD_CONFIGURATION: ${BUILD_CONFIGURATION}
        CERT_PASSWORD: ${CERT_PASSWORD}
        CERT_PATH: ${CERT_PATH}
        HTTP_PORT: ${HTTP_PORT}
        HTTPS_PORT: ${HTTPS_PORT}
        APP_CONNECTION_STRING: ${APP_CONNECTION_STRING}
    ports:
      - "${HTTP_PORT}:${HTTP_PORT}"
      - "${HTTPS_PORT}:${HTTPS_PORT}"
    environment:
      - CERT_PASSWORD=${CERT_PASSWORD}
      - CERT_PATH=${CERT_PATH}
      - HTTP_PORT=${HTTP_PORT}
      - HTTPS_PORT=${HTTPS_PORT}
      - ENVIRONMENT_CONFIGURATION=Development
      - BUILD_CONFIGURATION=Development
      - CORS_ALLOWED_ORIGINS=${CORS_ALLOWED_ORIGINS}
      - CORS_ALLOWED_METHODS=${CORS_ALLOWED_METHODS}
      - CORS_ALLOWED_HEADERS=${CORS_ALLOWED_HEADERS}
#    depends_on:
#      - sql-server-express